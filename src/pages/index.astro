---
import Chat from "../components/Chat.astro";
import Home from "../components/Home.astro";
import Messages from "../components/Messages.astro";
import Settings from "../components/Settings.astro";
import Layout from "../layouts/Layout.astro";
---

<Layout>
  <!-- <Home /> -->
  <!-- <Settings /> -->
  <!-- <Messages /> -->
  <Chat />
</Layout>


<!-- 
  <div id="app" class="min-h-screen flex flex-col">

    
    <nav class="border-b bg-white sticky top-0 z-10">
      <div class="flex px-6">
        <button 
          class="tab-btn px-6 py-4 text-gray-600 hover:text-gray-900 border-b-2 border-transparent hover:border-gray-300 data-[active=true]:border-blue-600 data-[active=true]:text-blue-700 data-[active=true]:font-medium"
          data-tab="home"
          data-active="true"
        >
          Home
        </button>
        <button 
          class="tab-btn px-6 py-4 text-gray-600 hover:text-gray-900 border-b-2 border-transparent hover:border-gray-300 data-[active=true]:border-blue-600 data-[active=true]:text-blue-700 data-[active=true]:font-medium"
          data-tab="settings"
        >
          Settings
        </button>
        <button 
          class="tab-btn px-6 py-4 text-gray-600 hover:text-gray-900 border-b-2 border-transparent hover:border-gray-300 data-[active=true]:border-blue-600 data-[active=true]:text-blue-700 data-[active=true]:font-medium"
          data-tab="messages"
        >
          Messages
        </button>
      </div>
    </nav>

    
    <main class="flex-1 p-6">
      <div id="home" class="tab-content">
        <Home />
      </div>
      <div id="settings" class="tab-content hidden">
        <Settings />
      </div>
      <div id="messages" class="tab-content hidden">
        <Messages />
      </div>
    </main>

  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const buttons = document.querySelectorAll('.tab-btn');
      const contents = document.querySelectorAll('.tab-content');

      function showTab(tabId) {
        // Hide all contents
        contents.forEach(el => el.classList.add('hidden'));
        // Show selected one
        document.getElementById(tabId)?.classList.remove('hidden');

        // Update active button state
        buttons.forEach(btn => {
          btn.dataset.active = btn.dataset.tab === tabId ? 'true' : 'false';
        });
      }

      // Click handler for all tab buttons
      buttons.forEach(button => {
        button.addEventListener('click', () => {
          const tabId = button.dataset.tab;
          showTab(tabId);
        });
      });

      // Optional: load last active tab from localStorage
      const savedTab = localStorage.getItem('activeTab') || 'home';
      showTab(savedTab);
    });

    // Optional: save active tab when changing
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('tab-btn')) {
        const tab = e.target.dataset.tab;
        localStorage.setItem('activeTab', tab);
      }
    });
  </script>

  <style>
    .tab-content {
      animation: fadeIn 0.25s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to   { opacity: 1; transform: translateY(0); }
    }
  </style>
-->


<!--
<script>
  document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
      document.getElementById(btn.dataset.tab).classList.remove('hidden');

      document.querySelectorAll('.tab-btn').forEach(b => b.dataset.active = 'false');
      btn.dataset.active = 'true';
    });
  });
</script>
-->